<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    {% load static %}
    <title>User List</title>
  </head>
  <body>
    {% csrf_token %}
    <a
      href="{% url 'create_user_page' %}"
      class="custom-modal-button"
      role="button"
      aria-pressed="true"
      style="text-decoration: none"
    >
      <b> Add User</b>
    </a>
    <table class="table" id="dtBasicExample">
      <thead>
        <tr>
          <th scope="col">No.</th>
          <th scope="col">First Name</th>
          <th scope="col">Last Name</th>
          <th scope="col">Email</th>
          <th scope="col">Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for user in users %}
        <tr>
          <td>{{ forloop.counter }}</td>
          <td>{{ user.first_name }}</td>
          <td>{{ user.last_name }}</td>
          <td>{{ user.email }}</td>
          <td>
            <a
              class="btn btn-custom btn-sm edit-user-btn"
              href="{% url 'update_user_page' user_id=user.id %}"
              data-user-id="{{ user.id }}"
              >Edit</a
            >
            <button class="delete-button" data-user-id="{{ user.id }}">
              Delete User
            </button>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <a href="{% url 'dashboard' %}">Back</a>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="{% static 'js/admin_delete_user.js' %}"></script>
  </body>
</html>
